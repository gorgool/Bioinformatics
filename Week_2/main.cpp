#include <iostream>
#include <string>
#include <vector>
#include <sstream>
#include <set>
#include <algorithm>
#include <chrono>
#include <utility>


using namespace std;


template <
  typename RetT,
  typename FuncT,
  typename ... argsT >
  double exec_time(RetT& ret, FuncT && func, argsT& ... params)
{
  using namespace std::chrono;
  high_resolution_clock::time_point start_time = high_resolution_clock::now();
  ret = func(forward<argsT>(params) ...);
  return duration_cast<duration< double >>(high_resolution_clock::now() - start_time).count();
}



vector<pair<vector<size_t>, size_t>> leaderboard_sequencing(vector<size_t>& mass_spectrum, const size_t N);

int main()
{
  size_t N;
  //cin >> N;
  N = 29;
  //N = 10;

  string input_str;
  //getline(cin, input_str);
  input_str = "0 71 87 99 101 113 114 115 128 129 129 129 137 137 137 137 163 163 163 186 186 200 200 202 215 229 236 236 250 252 265 266 266 276 292 292 299 300 300 300 329 337 339 343 363 363 364 365 365 366 372 373 401 415 429 429 429 429 436 462 465 466 478 480 485 486 492 500 501 502 502 502 529 544 549 558 565 566 573 579 587 592 599 602 615 629 629 629 630 631 648 664 665 666 681 700 701 702 715 716 721 728 729 731 735 758 762 765 766 768 778 792 794 801 802 828 830 844 845 849 850 852 858 863 865 865 895 902 907 916 921 929 931 931 931 950 951 964 964 965 973 987 991 993 994 1002 1031 1044 1044 1045 1058 1058 1060 1064 1065 1078 1088 1093 1094 1094 1101 1102 1128 1130 1131 1131 1150 1157 1173 1193 1195 1201 1202 1207 1208 1215 1217 1223 1227 1230 1231 1231 1259 1260 1264 1279 1288 1294 1294 1294 1310 1314 1330 1330 1330 1336 1345 1360 1364 1365 1393 1393 1394 1397 1401 1407 1409 1416 1417 1422 1423 1429 1431 1451 1467 1474 1493 1493 1494 1496 1522 1523 1530 1530 1531 1536 1546 1559 1560 1564 1566 1566 1579 1580 1580 1593 1622 1630 1631 1633 1637 1651 1659 1660 1660 1673 1674 1693 1693 1693 1695 1703 1708 1717 1722 1729 1759 1759 1761 1766 1772 1774 1775 1779 1780 1794 1796 1822 1823 1830 1832 1846 1856 1858 1859 1862 1866 1889 1893 1895 1896 1903 1908 1909 1922 1923 1924 1943 1958 1959 1960 1976 1993 1994 1995 1995 1995 2009 2022 2025 2032 2037 2045 2051 2058 2059 2066 2075 2080 2095 2122 2122 2122 2123 2124 2132 2138 2139 2144 2146 2158 2159 2162 2188 2195 2195 2195 2195 2209 2223 2251 2252 2258 2259 2259 2260 2261 2261 2281 2285 2287 2295 2324 2324 2324 2325 2332 2332 2348 2358 2358 2359 2372 2374 2388 2388 2409 2422 2424 2424 2438 2438 2461 2461 2461 2487 2487 2487 2487 2495 2495 2495 2496 2509 2510 2511 2523 2525 2537 2553 2624";
  //input_str = "0 71 113 129 147 200 218 260 313 331 347 389 460";

  istringstream iss(input_str);
  vector<size_t> mass_spectrum{ istream_iterator<size_t>{iss},
    istream_iterator<size_t>{} };


  vector<pair<vector<size_t>, size_t>> ret;
  auto time_to_run = exec_time(ret, leaderboard_sequencing, mass_spectrum, N);
  
  for (const auto& peptide : ret)
  {
    for (size_t i = 0; i < peptide.first.size(); i++)
    {
      cout << peptide.first[i];
      if (i < peptide.first.size() - 1)
        cout << "-";
    }
    cout << endl;
  }

  cout << "Execution time : " << time_to_run << endl;

  // 71-129-137-99-137-128-101-114-186-186-113-163-87-115-137-163-129-137-163-129
  // 129-71-129-163-137-129-163-137-115-87-163-113-186-186-114-101-128-137-99-137
  // 71-129-163-137-129-163-137-115-87-163-113-186-186-114-101-128-137-99-137-129
  // 71-129-163-137-129-163-137-115-87-163-113-186-186-114-101-57-71-137-99-137-129

  return 0;
}
